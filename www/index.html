<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
  <title>Chatting App</title>
  <style>
    body {
      background-color: #4B0082;
      color: white;
      font-family: 'Roboto', sans-serif;
      padding: 20px;
    }
    .header-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding-bottom: 20px;
    }
    .message-area {
      height: 300px;
      overflow-y: auto;
      border: 1px solid #ccc;
      padding: 10px;
      background-color: #fff;
      color: black;
      border-radius: 10px;
    }
    .submit-button {
      background: linear-gradient(90deg, #FF6F61, #D5006D);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 10px 20px;
      transition: background 0.3s;
    }
    .submit-button:hover {
      background: linear-gradient(90deg, #D5006D, #FF6F61);
      cursor: pointer;
    }
    .input-group {
      width: 50%;
      padding-right: 10px;
    }
    .message-area-container {
      width: 50%;
      padding-left: 10px;
    }
    .container {
      display: flex;
      justify-content: space-between;
      padding: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    h3 {
      margin-bottom: 10px;
    }
    .heading-container {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      width: 100%;
    }
    .username-input {
      margin-bottom: 20px;
      border-radius: 10px;
    }
    .username-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 40px;
    }
  </style>
</head>
<body>
  <div class="header-container d-flex justify-content-between align-items-center pb-3 mb-4 border-bottom pt-3">
    <a href="/" class="d-flex align-items-center link-body-emphasis text-decoration-none">
      <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" class="me-2" viewBox="0 0 118 94" role="img">
        <title>Bootstrap</title>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z" fill="currentColor"></path>
      </svg>
      <span class="fs-4">Pricing example</span>
    </a>
    <nav class="d-inline-flex mt-2 mt-md-0">
      <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="#">Features</a>
      <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="#">Enterprise</a>
      <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="#">Support</a>
      <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="#">Pricing</a>
      <div id="auth-buttons"></div>
    </nav>
  </div>

  <div class="username-container" id="usernameContainer">
    <h3>Enter your username:</h3>
    <input type="text" id="usernameInput" class="form-control username-input" placeholder="Type your username here" style="width: 50%;" />
    <button class="btn submit-button" id="submitUsername">Submit Username</button>
  </div>

  <div class="container mt-4">
    <div class="heading-container">
      <h2>Message:</h2>
      <h2 style="margin-left: 100px;">All messages:</h2>
    </div>
  </div>

  <div class="container">
    <div class="input-group mb-3">
      <textarea id="messageInput" class="form-control" rows="3" placeholder="Type your message here..."></textarea>
      <button class="btn submit-button" id="submitMessage">Submit</button>
    </div>
    <div class="message-area-container">
      <div class="message-area" id="messageArea">
        <!-- Messages will be displayed here -->
      </div>
    </div>
  </div>

  <script>
    const authButtonsDiv = document.getElementById('auth-buttons');
    const isAuthenticated = false;
    if (isAuthenticated) {
      authButtonsDiv.innerHTML = `<a class="btn btn-outline-danger" href="#">Sign Out</a>`;
    } else {
      authButtonsDiv.innerHTML = `<a class="btn btn-primary me-2" href="#">Sign In</a>`;
    }

    const usernameInput = document.getElementById('usernameInput');
    const usernameContainer = document.getElementById('usernameContainer');
    const submitUsernameButton = document.getElementById('submitUsername');
    const messageInput = document.getElementById('messageInput');
    const messageArea = document.getElementById('messageArea');
    const submitButton = document.getElementById('submitMessage');

    let savedUsername = localStorage.getItem('chat-username') || '';

    if (savedUsername) {
      usernameContainer.style.display = 'none'; // Hide input if already saved
    }

    submitUsernameButton.addEventListener('click', () => {
      const username = usernameInput.value.trim();
      if (username) {
        localStorage.setItem('chat-username', username);
        savedUsername = username;
        usernameInput.value = '';
        usernameContainer.style.display = 'none'; // Hide after submission
      }
    });

    submitButton.addEventListener('click', () => {
      const message = messageInput.value.trim();
      if (savedUsername && message) {
        const messageElement = document.createElement('p');
        messageElement.textContent = `${savedUsername}: ${message}`;
        messageArea.appendChild(messageElement);
        messageInput.value = '';
        messageArea.scrollTop = messageArea.scrollHeight;
      }
    });
  </script>
</body>
</html>
